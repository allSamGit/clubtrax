<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="ReportDisplay.css">
<link rel="stylesheet" href="navbar.css">
<link rel="stylesheet" href="mixedtab.css">
<link rel="stylesheet" href="dropdown-submenu.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

    
    <div class="subnav">

    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="display: block; position: static; margin-bottom: 5px; *width: 180px;">
      <li class="dropdown-submenu ">
    
        <a tabindex="-1" class="dropdown-toggle topLevel" data-toggle="dropdown" href="#">
            Main topic
            <i class="icon icon-caret-right"></i>
          </a>
        <ul class="dropdown-menu">
          <li class="dropdown-submenu">
    
            <a id="sub1" href="#">sub 1</a>
            <ul class="dropdown-menu">
                <li><a href="#home" id="link_1" onclick="cloneFunc(this.id)">link 1</a></li>
                <li><a href="#" id="link_2" onclick="cloneFunc(this.id)">link 2</a></li>
                <li><a href="#">link 3</a></li>
                <li><a href="#">link 4</a></li>
            </ul>
            <li class="dropdown-submenu">
                <a href="#">sub 2</a>
                  <ul class="dropdown-menu">
                     <li><a href="#">link 1</a></li>
                     <li><a href="#">link 2</a></li>
                     <li><a href="#">link 3</a></li>
                     <li><a href="#">link 4</a></li>
                  </ul>
    
            <a href="#">sub 3</a>
          </li>
        </ul>
      </li>
    </ul>

  </div>
    
  
    <script>

function CloneFunction() {
  alert(getClickID(clickID));
  const node = document.getElementById(clickID);
  const clone = node.cloneNode(true);
  
  
  return clone;
}

function nonDupList(list){
   items = [...new Set(list)];
  return list;
}

const ids=[];

function removeID(closeID){
  
  ids.push(closeID.id);
  closeID.parentNode.remove();
  return ids;
}


const items = ['link_0'];
;
let uniqueItems = ['link_0'];
let uniqueIds= ['id_0'];

function cloneFunc(clickID) {
  
  
  const el = document.createElement("a");
  const span=document.createElement("span");

  const node = document.getElementById(clickID);
  var flag=false;

  const clone = node.cloneNode(true);
  
   //added code
 
   items.forEach((item, i) => {
    
   /* if(items.includes(removeID(i))){
      flag=false;
    } */
    if(node.id==items[i+1]){
   alert("Duplicated detected");
   flag=true;
  }
    clone.setAttribute('id',`menu-${i + 1}`);
    span.setAttribute('id',`id-${i + 1}`);

   /*let id = document.getElementsByTagName("span")[i].id;
    if((clone.id.includes(`menu-${i + 1}`))){
      uniqueItems.splice(i+1, 1);
      //uniqueIds.splice(i+1,1);
      ids.splice(i+1,1);
    } */
    

  });



  items.push(node.id);

 
  items.forEach((element) => {
    if (!uniqueItems.includes(element)) {
      uniqueItems.push(element);
    }
  });
  

  
  //ids.push(span.id);


  let uniqueIds = ids.filter((element, index) => {
    return ids.indexOf(element) === index;
});
   
   
   alert(clone.id);
   alert(uniqueItems);
   alert(uniqueIds);
   alert(ids.length);
   
  if(flag==false){
    

  span.setAttribute("class",".closebutton");
  span.textContent="X";
  span.setAttribute("onclick","removeID(this)");
  span.setAttribute("value","close");
  

  clone.classList.add("menu-items");
  clone.appendChild(span);
  // Create a list item
  const li = document.createElement("li");
  // Append the anchor to the list item
  li.appendChild(clone);
 
  // Append the list item to the list
  navList.appendChild(li);
  clone.setAttribute("onclick","null");
  }

}
 
var elem = document.activeElement.textContent; 
    /* Extract the text from an element*/
    function currentElem()
    {
      document.activeElement.blur();
      return elem;
    }

    
    
    </script>





    <div class="TabNavigation">
      <ul id="Btn-list">
        
        <li class="menu-items" id="menu-1" class="active"> <a  href="#home" data-close>Home <span aria-hidden="true">&times;</span> </a></li>
        <li class="menu-items" id="menu-2"><a>News<span float="right" class=".closebtn" disabled aria-label="Close" onclick="this.parentElement.style.display = 'none';"> <i class="fa fa-close"></i></span></a></li>
        <li class="menu-items" id="menu-3"><a href="#contact">Contact</a></li>
        <li class="menu-items" id="menu-4"><a  href="#about">About</a></li>
      </ul>
    </div>


<script>

//<li class="menu-items" id="menu-1" class="active"> <a  href="#home">Home <span float="right" class=".closebtn" disabled aria-label="Close" onclick="this.parentElement.style.display = 'none';"> <i class="fa fa-remove"></i></span> </a></li>
const navMenu = document.querySelectorAll("section");
const navList = document.getElementById("Btn-list");


  
//Build the nav





</script>



        <!-- TAB CONTENT-->

       